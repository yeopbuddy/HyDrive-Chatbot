# 🤖 HyDrive Chatbot - 자동차 매뉴얼 기반 RAG 챗봇

HyDrive Chatbot은 자동차의 다양한 매뉴얼을 구조화하여, 운전자와 정비 전문가가 쉽고 빠르게 정보를 검색할 수 있도록 돕는 RAG(Retrieval-Augmented Generation) 기반 AI 챗봇입니다.

---

## 🔍 문제 정의

현대 자동차는 기능이 점점 더 복잡해지고 있습니다. 그러나 운전자들은 방대한 분량의 매뉴얼, 어려운 전문 용어, 차종마다 다른 구성 등으로 인해 필요한 정보를 찾는 데 어려움을 겪습니다.

HyDrive는 이러한 문제를 해결하기 위해 자연어 질문에 직관적이고 정확한 응답을 제공하는 AI 챗봇을 목표로 합니다.

---

## 🎯 서비스 목표 및 기대 효과

### ✅ 서비스 목표

* 차량 매뉴얼과 정비 지침을 AI가 이해할 수 있도록 구조화
* RAG 파이프라인을 통한 정확하고 빠른 질의응답 시스템 구현
* 사용자 친화적인 차량 정보 검색 서비스 제공

### 🌟 기대 효과

* **운전자**: 정보 접근성 향상 → 차량 운행과 관리의 효율성 증가
* **고객센터**: 반복 문의 감소 → 상담 시간 단축과 인력 효율 개선
* **전체 사회**: 자가 진단 가능 → 사고 예방 및 브랜드 이미지 향상
* **모든 연령대**: 고령자나 초보 운전자도 쉽게 이해 가능한 안내 제공

---

## 👥 주요 사용자

| 사용자 유형             | 주요 활용 방식                         |
| ------------------ | -------------------------------- |
| 🚗 일반 운전자          | 경고등, 블루투스 연결, 스마트 기능 설정 등 실시간 문의 |
| 📞 고객 서비스팀         | 다양한 차량 문의에 대해 빠르고 정확한 답변 제공      |
| 🔧 정비사/전문가         | 고장 코드, 정비 절차, 매뉴얼 기반 진단 및 정보 확인  |
| 👴 고령자 · 👶 초보 운전자 | 어려운 용어의 쉬운 설명과 직관적인 기능 안내        |

---

## 🧩 데이터 구성 및 처리 과정

### 📦 원본 데이터

* 자동차 공식 웹사이트에서 수집한 차량 매뉴얼 (PDF)
* 공개된 정비 매뉴얼, 고장 코드 표, 서비스 문서 등

### 📑 문서 특징

* 다양한 언어(PDF 기반, 한국어/영어 포함)
* 기능 설명, 경고 메시지, 고장 진단 항목 등 포함

### 🛠 처리 단계

1. **데이터 수집**

   * 차량 매뉴얼 PDF 확보

2. **PDF 텍스트 추출 및 OCR 처리**

   * PyMuPDF, pdfplumber, pypdf, Tesseract 등 사용

3. **문단 분할 및 정제**

   * 페이지 단위 분할 후 질문-응답 생성이 가능한 문맥 단위로 재구성

4. **QA 데이터 생성**

   * GPT API를 활용한 질문-답변 생성

5. **문서 임베딩 및 검색 인덱싱**

   * 문단을 벡터로 변환하여 FAISS 또는 Pinecone에 저장

6. **RAG 기반 질의응답 구현**

   * 질문 → 관련 문서 검색 → GPT를 통한 응답 생성

7. **출처 정보 표시 기능 포함**

   * 예: "p.36 에어컨 자동모드 설정"

---

## 🧱 프로젝트 구성 모듈

### 1️⃣ `manual-to-qa`

PDF를 텍스트(.txt)로 변환한 후, GPT를 이용해 QA 데이터(.jsonl)를 생성하는 도구

* `pdf-to-txt/`: 다양한 PDF 추출 도구(PyMuPDF 등) 활용
* `txt-to-qaset/`: 문맥별 질문 템플릿 구성 후 GPT 기반 자동 QA 생성

### 2️⃣ `qaset-eval`

생성된 QA 데이터셋(.jsonl)에 대해 자동 평가를 수행하는 도구

* `deepeval_metrics_eval.py`: DeepEval 기반 정량 평가 (답변 적절성, 유해성 등)
* `gpt_relevancy_eval.py`: OpenAI GPT 모델을 사용한 평가 (질문-답변의 적절성 검토)

### 3️⃣ `chatbot-server (demo.py)`

QA 데이터셋을 활용한 로컬 챗봇 서버 구현 (Flask + Pinecone + SentenceTransformer 기반)

* SentenceTransformer로 질문 임베딩
* Pinecone을 통해 관련 문단 검색
* Flask API를 통해 실시간 질의응답 제공 (`/chat` endpoint)

---

## 🧠 주요 기술 스택

* **LLM**: OpenAI GPT 시리즈 (대체 가능)
* **PDF 파싱**: PyMuPDF, pdfplumber, pypdf, Tesseract OCR
* **QA 생성**: GPT API 활용
* **자동 평가**: DeepEval, GPT 기반 프롬프트 평가
* **임베딩 모델**: SentenceTransformer (예: all-MiniLM-L6-v2)
* **벡터 데이터베이스**: Pinecone
* **서버**: Flask 기반 API 서버

---

## 🚀 향후 개발 방향

* 다국어 지원(한국어/영어) 고도화
* 사용자 로그 기반 응답 품질 개선
* 차량 센서(OBD)와 연동하여 실시간 질의응답 가능하도록 확장
* 서비스센터 정보, 정비 예약 기능 등 연계 기능 추가
* QA 데이터 품질 및 자동 평가 기준 지속 개선

---

## 💬 문의 및 기여 안내

HyDrive 프로젝트는 지속적인 개선을 목표로 합니다.
QA 생성 기준과 평가 방식에 대해 더 나은 아이디어가 있다면 언제든지 제안해주세요.

* 평가 방식 개선 (ex. 추가 지표 정의, 보조 평가자 도입 등)
* 데이터 샘플링 및 QA 품질 향상
* Pull Request 및 Issue 등록을 통한 개발 참여 환영 🙌
